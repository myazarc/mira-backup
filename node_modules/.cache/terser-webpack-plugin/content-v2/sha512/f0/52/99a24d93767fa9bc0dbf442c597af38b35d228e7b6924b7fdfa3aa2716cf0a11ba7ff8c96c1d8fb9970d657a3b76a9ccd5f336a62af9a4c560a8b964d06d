{"code":"module.exports=function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(o,i,function(n){return e[n]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p=\"\",n(n.s=3)}([function(e){e.exports=require(\"electron\")},function(e){e.exports=require(\"path\")},function(e){e.exports=require(\"auto-launch\")},function(e,n,t){\"use strict\";function o(){d=new i.BrowserWindow({height:563,useContentSize:!0,width:1e3,icon:a.a.join(__static,\"256x256.png\"),title:\"Mira Backup\"});var e=null;switch(process.platform){case\"win32\":e=a.a.join(__static,\"icon.ico\");break;default:e=a.a.join(__static,\"256x256.png\")}d.loadURL(f);var n=new i.Tray(e),t=i.Menu.buildFromTemplate([{label:\"Show App\",click:function(){d.show()}},{label:\"Quit\",click:function(){p.isQuiting=!0,i.app.quit()}}]);n.setContextMenu(t),d.on(\"closed\",function(){d=null}),d.on(\"minimize\",function(e){e.preventDefault(),d.hide(),d.webContents.send(\"hide-window\")}),d.on(\"show\",function(){n.setHighlightMode(\"always\"),d.webContents.send(\"show-window\")}),d.on(\"close\",function(e){return p.isQuiting||(e.preventDefault(),d.hide(),d.webContents.send(\"hide-window\")),!1}),i.ipcMain.on(\"yandex-oauth\",function(e){l({clientId:\"af1fa0f8e27b4434842da38d52ca3ff0\",clientSecret:\"72e746c651f04f2dbdf61fac329533d4\",authorizationUrl:\"https://oauth.yandex.com/authorize\",tokenUrl:\"https://oauth.yandex.com/token\",useBasicAuthorizationHeader:!1,redirectUri:\"http://localhost\"},{alwaysOnTop:!0,autoHideMenuBar:!0,webPreferences:{nodeIntegration:!1}}).getAccessToken({scope:\"cloud_api:disk.write\",accessType:\"ACCESS_TYPE\"}).then(function(n){e.sender.send(\"yandex-oauth-reply\",{status:!0,token:n})}).catch(function(){e.sender.send(\"yandex-oauth-reply\",{status:!1})})}),s.isEnabled().then(function(e){e||s.enable()}).catch(function(e){console.log(e)})}t.r(n);var i=t(0),r=(t.n(i),t(1)),a=t.n(r),u=t(2),c=t.n(u),l=t(4),s=new c.a({name:\"Mira Backup\"});global.__static=a.a.join(__dirname,\"/static\").replace(/\\\\/g,\"\\\\\\\\\");var d=void 0,f=\"file://\"+__dirname+\"/index.html\",p={isQuiting:!1};i.app.on(\"ready\",o),i.app.on(\"window-all-closed\",function(){\"darwin\"!==process.platform&&i.app.quit()}),i.app.on(\"activate\",function(){null===d&&o()})},function(e){e.exports=require(\"electron-oauth2\")}]);","extractedComments":[]}